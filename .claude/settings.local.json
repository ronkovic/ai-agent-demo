{
  "permissions": {
    "allow": [
      "Bash(npx create-next-app@latest:*)",
      "mcp__filesystem__read_text_file",
      "mcp__filesystem__list_directory",
      "mcp__filesystem__directory_tree",
      "mcp__serena__write_memory",
      "mcp__serena__list_memories",
      "mcp__serena__find_file",
      "mcp__serena__list_dir",
      "mcp__filesystem__read_multiple_files",
      "mcp__supabase__search_docs",
      "mcp__filesystem__write_file",
      "mcp__filesystem__create_directory",
      "Bash(uv run ruff:*)",
      "Bash(uv run alembic revision:*)"
    ]
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [
    "filesystem",
    "context7",
    "kiri",
    "serena",
    "chrome-devtools",
    "next-devtools",
    "aws-mcp",
    "supabase"
  ],
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "input=$(cat); if echo \"$input\" | grep -q '\"command\".*git commit'; then if ! git diff --cached --name-only | grep -q 'docs/PLANNING.md'; then echo '⚠️ コミット前に docs/PLANNING.md を確認・更新してください。PLANNING.mdをステージングに追加してから再度コミットを実行してください。' >&2; exit 2; fi; fi; exit 0"
          }
        ]
      }
    ]
  }
}
